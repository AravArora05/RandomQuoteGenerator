<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arav Arora's Project</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="styles.css" rel="stylesheet">
</head>

<body class="bg-primary">
  <div id="quote-box" class="container p-5 rounded bg-white">
    <div id="text" class="text-center">
        <i class="fa fa-quote-left" id="quotes1"></i>
        <h1>This is a Sample Quote</h1>
        <i class="fa fa-quote-right" id="quotes2"></i>
    </div>
    <div id="author" class="text-right mt-3">
      <span>By <h4>Arav Arora</h4></span>
    </div>

    <div class="button-container mt-3 d-flex justify-content-between">
      <div>
        <a class="btn btn-primary me-2" id="tweet-quote" title="Tweet this quote!" target="_blank">
          <i class="fa fa-twitter"></i>
        </a>
        <a class="btn btn-primary" id="tumblr-quote" title="Post this quote on tumblr!" target="_blank">
          <i class="fa fa-tumblr"></i>
        </a>
      </div>
      <button class="btn btn-primary" id="new-quote">New Quote</button>
    </div>
  </div>

  <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
  <script>
    $(document).ready(function() {
      const colors = [
        "#6B728E", "#A0AEC0", "#718096", "#4A5568", "#2D3748", "#1A202C", "#2C5282", "#2A4365", "#2C7A7B", "#285E61",
        "#276749", "#22543D", "#4C51BF", "#434190", "#805AD5", "#6B46C1", "#D53F8C", "#B83280", "#E53E3E", "#C53030"
      ];
      const url = "quotes.json";
      let quotesData = [];
      let randomQuote = "";
      let randomQuoteAuthor = "";
      
      function fetchQuotes() {
        $.getJSON(url, function(data) {
          quotesData = data;
          changeQuote();
        }).fail(function() {
          console.error("An error has occurred.");
        });
      }
      
      function changeQuote() {
        let randomQuoteIndex = Math.floor(Math.random() * quotesData.length);
        randomQuoteAuthor = quotesData[randomQuoteIndex].author;
        randomQuote = quotesData[randomQuoteIndex].quote;
        let randomColor = colors[Math.floor(Math.random() * colors.length)];
        $("#text").fadeOut(1000);
        $("#author").fadeOut(1000);
        $("body").css({"background-color": randomColor, "transition" : "background-color 2s"});
        
        setTimeout(function() {
          $("#text h1").text(randomQuote);
          $("#author h4").text(randomQuoteAuthor);
          $("#text").css({"color": randomColor});
          $("#author").css({"color": randomColor});
          $("#text").fadeIn(1000);
          $("#author").fadeIn(1000);
        }, 1000);
      }
       
      $("#tweet-quote").on("click", function() {
        window.open("https://twitter.com/intent/tweet?hashtags=CodingCoolThings&related=freecodecamp&text=" + encodeURIComponent(randomQuote + " " + randomQuoteAuthor), "_blank");
      });
      
      $("#tumblr-quote").on("click", function() {
        window.open(
          "https://www.tumblr.com/widgets/share/tool?posttype=quote&tags=CodingCoolThings,freecodecamp&caption=" + 
          encodeURIComponent(randomQuoteAuthor) + 
          "&content=" + 
          encodeURIComponent(randomQuote) + 
          "&canonicalUrl=https%3A%2F%2Fwww.tumblr.com%2Fbuttons&shareSource=tumblr_share_button"
        );
      });

      $("#new-quote").on("click", changeQuote);
      
      fetchQuotes();
    });
  </script>
</body>

</html>
