<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arav Arora's Project</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="styles.css" rel="stylesheet">
</head>

<body class="bg-primary">
  <div id="quote-box" class="container d-flex p-5 flex-column justify-content-around align-items-center rounded">
    <div id="text" class="text-center">
        <i class="fa fa-quote-left" id="quotes1"></i><h1>This is a Sample Quote</h1><i class="fa fa-quote-right" id="quotes2"></i>
    </div>
    <div id="author" class="text-right w-100">
      <span>By <h4>Arav Arora</h4> </span>
    </div>

    <div class="button-container">
      <div>
        <a class="btn btn-primary me-2 button" id="tweet-quote" title="Tweet this quote!" target="_blank">
          <i class="fa fa-twitter"></i>
        </a>
        <a class="btn btn-primary button" id="tumblr-quote" title="Post this quote on tumblr!" target="_blank">
          <i class="fa fa-tumblr"></i>
        </a>
      </div>
      <button class="btn btn-primary button" id="new-quote">New Quote</button>
    </div>
  </div>

  <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
  <script>
    $(document).ready(function() {
      const colors = [
        "#FF5733", "#33FF57", "#3357FF", "#FF33A1", "#FFBD33", "#8D33FF", "#33FFF6", "#F633FF", "#33FFBD", "#FFC433",
        "#FF5733", "#33FFB5", "#FF33E6", "#57FF33", "#3375FF", "#FF8D33", "#33FFFC", "#B533FF", "#FF3333", "#33FF8D"
      ];
      const url = "quotes.json";
      let quotesData = [];
      $("#text h1").text("Sample Quote");
        let randomQuote = "";
        let randomQuoteAuthor = "";
      function fetchQuotes() {
        $.getJSON(url, function(data) {
          quotesData = data;
          changeQuote();
        }).fail(function() {
          console.error("An error has occurred.");
        });
      }
      
      function changeQuote() {
        let randomQuoteIndex = Math.floor(Math.random() * quotesData.length);
        randomQuoteAuthor = quotesData[randomQuoteIndex].author;
        randomQuote = quotesData[randomQuoteIndex].quote;
        let randomColor = colors[Math.floor(Math.random() * colors.length)];
        $("#text").fadeOut(1000);
        $("#author").fadeOut(1000);
        $("body").css({"background-color": randomColor, "transition" : "background-color 2s"});
        
        setTimeout(function() {
          $("#text h1").text(randomQuote);
          $("#author h4").text(randomQuoteAuthor);
          $("#text").css({"color": randomColor});
        $("#author").css({"color": randomColor});
          $("#text").fadeIn(1000);
          $("#author").fadeIn(1000);
        }, 1000)
       }
       

       $("#tweet-quote").on("click", function() {
            window.open("https://twitter.com/intent/tweet?hashtags=CodingCoolThings&related=freecodecamp&text=" + encodeURIComponent(randomQuote + " " + randomQuoteAuthor), "_blank");
       });
       $("#tumblr-quote").on("click", function() {
  window.open(
    "https://www.tumblr.com/widgets/share/tool?posttype=quote&tags=CodingCoolThings,freecodecamp&caption=" + 
    encodeURIComponent(randomQuoteAuthor) + 
    "&content=" + 
    encodeURIComponent(randomQuote) + 
    "&canonicalUrl=https%3A%2F%2Fwww.tumblr.com%2Fbuttons&shareSource=tumblr_share_button"
  );


});


       $("#new-quote").on("click", changeQuote);
      
      fetchQuotes();
    });
  </script>
</body>

</html>
